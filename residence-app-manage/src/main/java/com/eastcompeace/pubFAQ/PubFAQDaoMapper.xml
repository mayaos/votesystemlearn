<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.eastcompeace.pubFAQ.PubFAQDao">
<resultMap id="FAQModelMap" type="FAQModel">
	<id column="id" property="id"/>
	<result column="questions" property="questions"/>
	<result column="answers" property="answers"/>
	<result column="issue_flag" property="issueFlag"/>
	<result column="order_no" property="orderNo"/>
	<result column="create_time" property="createTime"/>
	<result column="update_time" property="updateTime"/>
</resultMap>
	<select id="selectFAQ" resultMap="FAQModelMap" parameterType="FAQModel">
		SELECT
			id id,
			questions questions,
			answers answers,
			issue_flag issueFlag,
			order_no orderNo,
			create_time createTime,
			update_time updateTime
		FROM 
			pub_frequently_questions 
	</select>
	
	<insert id="addFAQ" parameterType="FAQModel">
		insert into pub_frequently_questions
		(
			<if test="questions != null and questions!=''">
				questions
			</if>
			<if test="answers != null and answers!=''">
				,answers
			</if>
				,issue_flag
			<if test="orderNo != null and orderNo!=''">
				,order_no
			</if>
			<if test="createTime != null and createTime!=''">
				,create_time
			</if>
			<if test="updateTime != null and updateTime!=''">
				,update_time
			</if>
		)
		value
		(
			<if test="questions != null and questions!=''">
				#{questions}
			</if>
			<if test="answers != null and answers!=''">
				,#{answers}
			</if>
				,#{issueFlag}
			<if test="orderNo != null and orderNo!=''">
				,#{orderNo}
			</if>
			<if test="createTime != null and createTime!=''">
				,#{createTime}
			</if>
			<if test="updateTime != null and updateTime!=''">
				,#{updateTime}
			</if>
		)
	</insert>


	<delete id="delFAQ" parameterType="list">
		delete from pub_frequently_questions where id in
		<foreach collection="list" index="index" item="item" open="("
			separator="," close=")">
			#{item}
		</foreach>
	</delete>
	
	<update id="updateFAQ" parameterType="FAQModel">
		update pub_frequently_questions set
			<if test="questions != null and questions != ''">
				questions=#{questions}
			</if>
			<if test="answers != null and answers != ''">
				,answers=#{answers}
			</if>
				,issue_flag=#{issueFlag}
			<if test="orderNo != null and orderNo != ''">
				,order_no=#{orderNo}
			</if>
			<if test="updateTime != null and updateTime != ''">
				,update_time=#{updateTime}
			</if>
		where
			id=#{id}
	</update>
	<update id="releaseFAQ" parameterType="list">
		UPDATE pub_frequently_questions
		SET issue_flag = 1
		WHERE id in
		<foreach collection="list" index="index" item="item" open="("
			separator="," close=")">
			#{item}
		</foreach>
	</update>
	
	<update id="delreleaseFAQ" parameterType="list">
		UPDATE pub_frequently_questions
		SET issue_flag = 0
		WHERE id in
		<foreach collection="list" index="index" item="item" open="("
			separator="," close=")">
			#{item}
		</foreach>
	</update>		
</mapper>
